# 细节

## 接口

接口用于抽象红石机器的输入输出，便于与外部程序交互。接口是一排标靶方块（或者一个标靶方块也行），可以通过魔杖物品和指令或外部程序创建。接口可以用这些标靶方块来接收或发出红石信号，同时将相应的数据通过模组传递给外部程序。

## 外部程序

外部程序可以用来读写接口或响应事件（如游戏刻、数据变化）。参见 [docs/API.zh_cn.md](./API.zh_cn.md)。

## 命令

所有由模组提供的命令的权限等级都至少为 2（可配置）。

`/rcu`
- 给予命令执行者一个魔杖物品（可配置，默认为粉红色染料）。

`/rcu new <接口名> [选项...]`
- 创建接口。接口名**必须**在所有接口中唯一且**必须**只由字母、数字和下划线组成。可用选项如下。
  - `force` 不检查接口完整性。
  - `skip=<方块数>` 在每两位之间跳过指定的标靶方块数。

`/rcu remove <接口名...>`
- 删除接口。

`/rcu info`
- 显示接口和外部程序信息。

`/rcu info interface`
- 显示接口信息。

`/rcu info interface <接口名...>`
- 显示指定接口详情。

`/rcu info script`
- 显示外部程序信息。

`/rcu info script <外部程序名...>`
- 显示指定外部程序详情。

`/rcu read <接口名...>`
- 读取并显示指定接口数值。

`/rcu write <接口名> <数值>`
- 写入指定接口数值。数值不区分大小写，2 进制前缀为 `0b`，8 进制前缀为 `0o`，16 进制前缀为 `0x`。

`/rcu run <外部程序名> [参数...]`
- 使用指定的参数运行外部程序。参数可以是接口名或其他任意字符串。将会自动推导参数是否是接口，而使用引号括起的参数一定会被视为字符串字面值。参数类型和值会一并传递给外部程序。

`/rcu lang`
- 显示命令执行者的当前显示语言。

`/rcu lang <语言>`
- 设置命令执行者的显示语言。
